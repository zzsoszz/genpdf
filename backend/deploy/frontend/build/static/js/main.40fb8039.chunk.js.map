{"version":3,"sources":["router.js","ui.js","useHooks.js","config.js","pages/constractor/DispatchContext.js","utils.js","services/contractor.js","actions.js","pages/constractor/OrderItem.js","pages/constractor/Order.js","pages/constractor/Orders.js","reducer/reducerContractor.js","pages/constractor/Person.js","pages/constractor/Contractor.js","pages/constractor/ContractorList.js","pages/constractor/ContractorEdit.js","pages/Layout.js","pages/Home.js","index.js"],"names":["RouterContext","React","createContext","route","require","sensitive","strict","end","routeExact","Route","props","historyState","useContext","params","exact","path","pathname","console","log","react_default","a","createElement","component","history","Router","useLocation","Provider","value","Children","map","children","child","i","cloneElement","Object","objectSpread","Link","style","margin","href","to","onClick","e","preventDefault","window","pushState","Panel","styled","div","_templateObject","center","css","_templateObject2","Button","span","_templateObject3","primary","_templateObject4","PanelHeader","_templateObject5","PanelBody","_templateObject6","FormItem","_templateObject7","Label","label","_templateObject8","Menu","_templateObject9","MenuItem","_templateObject10","useFetchData","_len","arguments","length","Array","_key","_useState","useState","_useState2","slicedToArray","data","setData","useEffect","asyncToGenerator","regenerator_default","mark","_callee","response","json","wrap","_context","prev","next","fetch","apply","sent","ok","t0","stop","this","config","baseUrl","DispatchContext","decode_utf8","s","decodeURIComponent","isNumber","obj","isNaN","genpdfServce","commonContractorServce","fetchB","then","res","status","message","headers","get","alert","body","method","Accept","Content-Type","JSON","stringify","abrupt","exportOrder","orderId","contractor","parse","localStorage","getItem","orders","filter","item","id","one","items","orderItem","checked","price","count","contractorNew","exportPdf","blob","document","url","URL","createObjectURL","filename","split","download","click","revokeObjectURL","ADD_ORDER","UPDATE_ORDER","ADD_ORDER_ITEM","DELETE_ORDER_ITEM","UPDATE_ORDER_ITEM","UPDATE_PERSON","INIT_ORDER","UPDATE_CONTRACTOR","INIT_CONTRACTOR","OrderItem","memo","Fragment","background","height","width","type","onChange","onOrderItemChange","index","subcategory","target","name","subname","unit","Big","times","toFixed","onOrderItemDelete","Order","order","dispatch","onOrderItemChangeThrottle","useCallback","_","throttle","payload","onOrderItemDeleteCallback","title","align","assign","key","reduce","cur","total","marginLeft","Orders","className","person","reducerOrder","action","newItem","shortid","generate","toConsumableArray","concat","orderitems","newItems","reducerOrders","reducerPerson","reducerContractor","Person","onPersonChange","idno","address","getCommoditys","byCol1","R","record","category","Contractor","_useReducer","useReducer","contractorStorage","removeItem","getValue","_useReducer2","renameCol","grouped","convertedData","keys","c","setItem","memoizedPersonCallback","agreementId","Person_Person","Orders_Orders","ContractorList","initValue","_useState3","_useState4","setValue","isEmpty","str","personName","personIdno","sub","indexOf","createDate","rootState","ContractorEdit","initContractor","Layout","Layout_templateObject","LeftSideBar","Layout_templateObject2","Content","Layout_templateObject3","Home","index_es","icon","faList","faPlus","App","Component","rootElement","getElementById","ReactDOM","render","src_App"],"mappings":"qMAEMA,EAAcC,IAAMC,gBAEtBC,EAAQC,EAAQ,GAARA,CAAsB,CAC9BC,WAAW,EACXC,QAAQ,EACRC,KAAK,IAGLC,EAAaJ,EAAQ,GAARA,CAAsB,CACnCC,WAAW,EACXC,QAAQ,EACRC,KAAK,IAWT,SAASE,EAAMC,GACX,IAAMC,EAAaC,qBAAWZ,GAE1Ba,GADQH,EAAMI,MAAON,EAAWE,EAAMK,MAAOZ,EAAMO,EAAMK,OAC1CJ,EAAaK,UAGhC,OAFAC,QAAQC,IAAI,qBAAqBR,EAAMK,KAAKJ,EAAaK,UACzDC,QAAQC,IAAI,2BAA2BL,IACxB,IAAXA,EACO,KAEJM,EAAAC,EAAAC,cAACX,EAAMY,UAAP,CAAiBC,QAAS,CAACV,OAAOA,KAI7C,SAASW,EAAOd,GACZ,IAAMC,EAAec,wBACrB,OACIN,EAAAC,EAAAC,cAACrB,EAAc0B,SAAf,CAAwBC,MAAOhB,GAEvBV,IAAM2B,SAASC,IAAInB,EAAMoB,SAAU,SAACC,EAAOC,GACvC,MAAqB,oBAAVD,EACAA,IAEJ9B,IAAMgC,aAAaF,EAAnBG,OAAAC,EAAA,EAAAD,CAAA,GAA+BH,EAAMrB,WAOhE,SAAS0B,EAAK1B,GAKV,OAAOS,EAAAC,EAAAC,cAAA,KAAGgB,MAAO,CAACC,OAAO,OAAQC,KAAM7B,EAAM8B,GAAIC,QAJjD,SAAcC,GACVA,EAAEC,iBACFC,OAAOrB,QAAQsB,UAAUnC,EAAM8B,GAAG,KAAK9B,EAAM8B,MAEgB9B,EAAMoB,2qDCvD3E,IAAMgB,EAAQC,UAAOC,IAAVC,IAIP,SAAAvC,GAAK,OAAIA,EAAMwC,QAAUC,cAAhBC,OAKPC,EAASN,UAAOO,KAAVC,IAWJ,SAAA7C,GAAK,OAAIA,EAAM8C,SAAWL,cAAjBM,OAMXC,EAAcX,UAAOC,IAAVW,KAIXC,EAAYb,UAAOC,IAAVa,KAKTC,EAAWf,UAAOC,IAAVe,KAIRC,EAAQjB,UAAOkB,MAAVC,KAOLC,EAAOpB,UAAOC,IAAVoB,KAQJC,EAAWtB,UAAOC,IAAVsB,8BCxDd,SAASC,IAAwB,QAAAC,EAAAC,UAAAC,OAAR7D,EAAQ,IAAA8D,MAAAH,GAAAI,EAAA,EAAAA,EAAAJ,EAAAI,IAAR/D,EAAQ+D,GAAAH,UAAAG,GAAA,IAAAC,EACPC,mBAAS,MADFC,EAAA7C,OAAA8C,EAAA,EAAA9C,CAAA2C,EAAA,GACxBI,EADwBF,EAAA,GAClBG,EADkBH,EAAA,GAgB7B,OAdAI,oBAAU,WACNjD,OAAAkD,EAAA,EAAAlD,CAAAmD,EAAAjE,EAAAkE,KAAC,SAAAC,IAAA,IAAAC,EAAAC,EAAA,OAAAJ,EAAAjE,EAAAsE,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAE4BC,MAAKC,WAAL,EAASlF,GAFrC,YAEW2E,EAFXG,EAAAK,MAGoBC,GAHpB,CAAAN,EAAAE,KAAA,eAAAF,EAAAE,KAAA,EAI4BL,EAASC,OAJrC,OAIeA,EAJfE,EAAAK,KAKWd,EAAQO,GALnB,OAAAE,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAO,GAAAP,EAAA,kCAAAA,EAAAQ,SAAAZ,EAAAa,KAAA,YAADlE,IAYF,IACK+C,ECZX,IAAMoB,EAAO,CACTC,QAAQ,kCCLNC,EAAkBtG,IAAMC,sBCC9B,SAASsG,GAAYC,GAEjB,OADiBC,mBAAmBD,GA0CxC,SAASE,GAASC,GACd,OAAQC,MAAMD,GC3ClB,IAAME,GAAcT,EAAOC,QAAS,qBAC9BS,GAAwBV,EAAOC,QAAS,cAI9C,SAASU,KACL,OAAOlB,MAAKC,WAAL,EAAAtB,WAAewC,KAAK,SAASC,GACtC,GAAe,KAAZA,EAAIC,OAAY,CAClB,IAAIC,EAAQF,EAAIG,QAAQC,IAAI,WAG5B,MAFAF,EAAQZ,GAAYY,GACpBG,MAAMH,GACAA,EAEP,OAAOF,iDAMT,SAAA3B,EAAyBiC,GAAzB,IAAAhC,EAAA,OAAAH,EAAAjE,EAAAsE,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACyBmB,GACjBF,GACA,CACIW,OAAQ,OACRJ,QAAS,CACLK,OAAQ,uBACRC,eAAgB,oBAEpBH,KAAMI,KAAKC,UAAUL,KATjC,cACQhC,EADRG,EAAAK,KAAAL,EAAAmC,OAAA,SAYWtC,GAZX,wBAAAG,EAAAQ,SAAAZ,EAAAa,gCAuDA,SAAS2B,GAAYC,GACjB,IAAIC,EAAWL,KAAKM,MAAMC,aAAaC,QAAQ,eAC/CnH,QAAQC,IAAI,sBAAsB+G,GAClCA,EAAWI,OAAOC,OAAO,SAAAC,GAAI,OAAEA,EAAKC,IAAIR,IAASnG,IAAI,SAAA4G,GACvCA,EAAIC,MAAMJ,OAAO,SAAAK,GAAS,OAAIA,EAAUC,UAAY/B,MAAM8B,EAAUE,QAAUhC,MAAM8B,EAAUG,UAC/FpE,OAAO,GACZzD,QAAQC,IAAI,0CAGpB,IAAI6H,EAAc7G,OAAAC,EAAA,EAAAD,CAAA,GACX+F,EADU,CAEbI,OAAOJ,EAAWI,OAAOC,OAAO,SAAAC,GAAI,OAAEA,EAAKC,IAAIR,IAASnG,IAAI,SAAA4G,GAGxD,OAFAxH,QAAQC,IAAI,MAAMuH,GAClBA,EAAIC,MAAMD,EAAIC,MAAMJ,OAAO,SAAAK,GAAS,OAAIA,EAAUC,UAC3CH,MAGfxH,QAAQC,IAAI,gBAAgB6H,+CAC5BC,CAAUD,GAAe9B,KAAK,SAAAC,GAClBA,EAAIjB,GACJiB,EAAI+B,OAAOhC,KAAK,SAAAgC,GACZ,IACI,IAAI7H,EAAI8H,SAAS7H,cAAc,KAC3B8H,EAAMvG,OAAOwG,IAAIC,gBAAgBJ,GACjCK,EAAWpC,EAAIG,QACdC,IAAI,uBACJiC,MAAM,KAAK,GACXA,MAAM,KAAK,GAChBnI,EAAEmB,KAAO4G,EACT/H,EAAEoI,SAAWhD,GAAY8C,GACzBlI,EAAEqI,QACF7G,OAAOwG,IAAIM,gBAAgBP,GAC7B,MAAOzG,GACL6E,MAAM7E,MAId6E,MAAM,4BAAQL,EAAIC,UChHlC,IAAMwC,GAAY,YACZC,GAAe,eACfC,GAAiB,iBACjBC,GAAoB,oBACpBC,GAAoB,oBACpBC,GAAgB,gBAChBC,GAAa,aACbC,GAAoB,oBACpBC,GAAkB,kBCLlBC,WAAYnK,IAAMoK,KAAK,SAAU3J,GAQnC,OAPAO,QAAQC,IAAI,YAAaR,GAQrBS,EAAAC,EAAAC,cAACF,EAAAC,EAAMkJ,SAAP,KACInJ,EAAAC,EAAAC,cAAA,MAAIgB,MAAO,CAACkI,WAAa7J,EAAMkI,QAAU,UAAY,KAEjDzH,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,SACIgB,MAAO,CAACmI,OAAO,OAAOC,MAAM,QAC5B7B,QAASlI,EAAMkI,QACf8B,KAAK,WACLC,SAAU,SAAAjI,GACNhC,EAAMkK,kBAAN1I,OAAAC,EAAA,EAAAD,CAAA,GAA4BxB,EAA5B,CAAmCkI,SAAUlI,EAAMkI,eAI/DzH,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,YAAOX,EAAMmK,QAEjB1J,EAAAC,EAAAC,cAAA,UACQF,EAAAC,EAAAC,cAAA,SACIM,MAAOjB,EAAMoK,YACbH,SAAU,SAAAjI,GACNhC,EAAMkK,kBAAN1I,OAAAC,EAAA,EAAAD,CAAA,GAA4BxB,EAA5B,CAAmCoK,YAAapI,EAAEqI,OAAOpJ,aAIzER,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,SACIM,MAAOjB,EAAMsK,KACbL,SAAU,SAAAjI,GACNhC,EAAMkK,kBAAN1I,OAAAC,EAAA,EAAAD,CAAA,GAA4BxB,EAA5B,CAAmCsK,KAAMtI,EAAEqI,OAAOpJ,aAI9DR,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,SACIM,MAAOjB,EAAMuK,QACbN,SAAU,SAAAjI,GACNhC,EAAMkK,kBAAN1I,OAAAC,EAAA,EAAAD,CAAA,GAA4BxB,EAA5B,CAAmCuK,QAASvI,EAAEqI,OAAOpJ,aAIjER,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,SACIM,MAAOjB,EAAMwK,KACbP,SAAU,SAAAjI,GACNhC,EAAMkK,kBAAN1I,OAAAC,EAAA,EAAAD,CAAA,GAA4BxB,EAA5B,CAAmCwK,KAAMxI,EAAEqI,OAAOpJ,aAI9DR,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,SACIM,MAAOjB,EAAMmI,MACb8B,SAAU,SAAAjI,GACFmE,MAAMnE,EAAEqI,OAAOpJ,QACnBjB,EAAMkK,kBAAN1I,OAAAC,EAAA,EAAAD,CAAA,GAA4BxB,EAA5B,CAAmCmI,MAAOnG,EAAEqI,OAAOpJ,aAI/DR,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,SACIM,MAAOjB,EAAMoI,MACb6B,SAAU,SAAAjI,GACFmE,MAAMnE,EAAEqI,OAAOpJ,QACnBjB,EAAMkK,kBAAN1I,OAAAC,EAAA,EAAAD,CAAA,GAA4BxB,EAA5B,CAAmCoI,MAAOpG,EAAEqI,OAAOpJ,aAI/DR,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,YAzERX,EAAMoI,OAASpI,EAAMmI,OACblC,GAASjG,EAAMoI,QAAUnC,GAASjG,EAAMmI,OAAU,IAAIsC,IAAIzK,EAAMoI,OAAOsC,MAAM,IAAID,IAAIzK,EAAMmI,QAAQwC,QAAQ,GAEhH,IAwEClK,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,KAAGkB,KAAM,IACNE,QAAS,SAAAC,GACLhC,EAAM4K,kBAANpJ,OAAAC,EAAA,EAAAD,CAAA,GAA4BxB,MAFnC,sBC9DpB,IAAM6K,GAAQtL,IAAMoK,KAAK,SAAU3J,GAC/BO,QAAQC,IAAI,QAASR,GACrB,IAfmB8K,EAebC,EAAW7K,qBAAW2F,GACtBmF,EAA4BC,sBAC9BC,IAAEC,SAAS,SAAAlD,GACP1H,QAAQC,IAAI,qBACZuK,EAAS,CACLf,KAAMX,GACN+B,QAAQ5J,OAAAC,EAAA,EAAAD,CAAA,GAAKyG,EAAN,CAAiBX,QAAStH,EAAM8H,QAE5C,GACH,IAIEuD,EAA4BJ,sBAC9B,SAAAhD,GACI1H,QAAQC,IAAI,qBACZuK,EAAS,CACLf,KAAMZ,GACNgC,QAAQ5J,OAAAC,EAAA,EAAAD,CAAA,GAAKyG,EAAN,CAAiBX,QAAStH,EAAM8H,QAG/C,IAGJ,OACIrH,EAAAC,EAAAC,cAACyB,EAAD,KACI3B,EAAAC,EAAAC,cAACqC,EAAD,KACIvC,EAAAC,EAAAC,cAAA,YAAOX,EAAMsL,QAEjB7K,EAAAC,EAAAC,cAACuC,EAAD,KACIzC,EAAAC,EAAAC,cAAA,aACIF,EAAAC,EAAAC,cAAA,gBACIF,EAAAC,EAAAC,cAAA,OAAKgB,MAAO,CAACoI,MAAM,UACnBtJ,EAAAC,EAAAC,cAAA,OAAKgB,MAAO,CAACoI,MAAM,UACnBtJ,EAAAC,EAAAC,cAAA,OAAKgB,MAAO,CAACoI,MAAM,WACnBtJ,EAAAC,EAAAC,cAAA,OAAKgB,MAAO,CAACoI,MAAM,WACnBtJ,EAAAC,EAAAC,cAAA,OAAKgB,MAAO,CAACoI,MAAM,WACnBtJ,EAAAC,EAAAC,cAAA,OAAKgB,MAAO,CAACoI,MAAM,UACnBtJ,EAAAC,EAAAC,cAAA,OAAKgB,MAAO,CAACoI,MAAM,UACnBtJ,EAAAC,EAAAC,cAAA,OAAKgB,MAAO,CAACoI,MAAM,UACnBtJ,EAAAC,EAAAC,cAAA,OAAKgB,MAAO,CAACoI,MAAM,UACnBtJ,EAAAC,EAAAC,cAAA,OAAKgB,MAAO,CAACoI,MAAM,QAASwB,MAAM,YAEtC9K,EAAAC,EAAAC,cAAA,aACIF,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,0BACAF,EAAAC,EAAAC,cAAA,0BACAF,EAAAC,EAAAC,cAAA,0BACAF,EAAAC,EAAAC,cAAA,0BACAF,EAAAC,EAAAC,cAAA,0BACAF,EAAAC,EAAAC,cAAA,0BACAF,EAAAC,EAAAC,cAAA,0BACAF,EAAAC,EAAAC,cAAA,0BACAF,EAAAC,EAAAC,cAAA,0BACAF,EAAAC,EAAAC,cAAA,4BAGRF,EAAAC,EAAAC,cAAA,aACKX,EAAMgI,MACDhI,EAAMgI,MAAM7G,IAAI,SAAC0G,EAAMsC,GACrB,OAEI1J,EAAAC,EAAAC,cAAC+I,GAADlI,OAAAgK,OAAA,CACIrB,MAAOA,EACPsB,IAAK5D,EAAKC,IACND,EAHR,CAIIqC,kBAAmBc,EACnBJ,kBAAmBS,OAK7B,OAGd5K,EAAAC,EAAAC,cAAA,kCAEKX,EAAMgI,OA5FJ8C,EA4F0B9K,IA3FhC8K,EAAM9C,MACR8C,EAAM9C,MACRJ,OAAO,SAAAC,GAAI,OAAIA,EAAKK,UACpB/G,IAAI,SAAA0G,GAAI,OAAIA,EAAKO,MAAQP,EAAKM,QAC9BuD,OAAO,SAACC,EAAKC,GACV,OAAOD,EAAMC,GACd,GAAGjB,QAAQ,GAEf,EAmF+C,MAE1ClK,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,UACIoB,QAAS,SAAAC,GAAC,OACN+I,EAAS,CACLf,KAAMb,GACNiC,QAAS,CAAC9D,QAAStH,EAAM8H,QAJrC,4BAUArH,EAAAC,EAAAC,cAAA,UAAQgB,MAAO,CAACkK,WAAY,OACpB9J,QAAS,SAAAC,GACLqF,GAAYrH,EAAM8H,MAF9B,gBAMArH,EAAAC,EAAAC,cAAA,UAAQgB,MAAO,CAACkK,WAAY,OACpB9J,QAAS,SAAAC,GHpFrC,IACQ8E,IAAKI,KAAKM,MAAMC,aAAaC,QAAQ,eACzCnH,QAAQC,IAAI,iBAAiBsG,GAC7BR,GAAOD,GAAwB,CAC3BU,OAAQ,MACRJ,QAAS,CACLM,eAAgB,oBAEpBH,KAAMA,EAAOI,KAAKC,UAAUL,GAAQ,KACrCP,KAAK,SAAUzB,GACVA,EAASS,GACTsB,MAAM,kCAENA,MAAM,iCAAQ/B,EAAS2B,YGsEf,qBCpHdqF,GAASvM,IAAMoK,KAAK,SAAgB3J,GACtC,IAAM2H,EAAS3H,EAAM2H,OACfoD,EAAW7K,qBAAW2F,GAC5B,OACIpF,EAAAC,EAAAC,cAAA,OAAKoL,UAAU,OACXtL,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,WACKgH,EAAOxG,IAAI,SAAC0G,EAAMsC,GAAP,OACR1J,EAAAC,EAAAC,cAACkK,GAADrJ,OAAAgK,OAAA,CAAOC,IAAKtB,GAAWtC,EAAvB,CAA6BmE,OAAQhM,EAAMgM,aAInDvL,EAAAC,EAAAC,cAAA,OAAKgB,MAAO,CAACC,OAAQ,SACjBnB,EAAAC,EAAAC,cAAA,UAAQoB,QAAS,SAAAC,GAAC,OAAI+I,EAAS,CAACf,KAAMf,OAAtC,2BCFpB,SAASgD,GAAanB,EAAOoB,GACzB,OAAQA,EAAOlC,MACX,KAAKb,GACD,GAAI2B,EAAM9C,MAAO,CACb,IAAImE,EAAU,CACVrE,GAAIsE,IAAQC,WACZjE,MAAO,EACPD,MAAO,GAEX,OAAO3G,OAAAC,EAAA,EAAAD,CAAA,GACAsJ,EADP,CAEI9C,MAAMxG,OAAA8K,GAAA,EAAA9K,CAAKsJ,EAAM9C,OAAZuE,OAAA,CAAmBJ,MAG5B,IAAIK,EAAa,CACb,CACI1E,GAAIsE,IAAQC,WACZjE,MAAO,EACPD,MAAO,IAGf,OAAO3G,OAAAC,EAAA,EAAAD,CAAA,GAAIsJ,EAAX,CAAkB9C,MAAOwE,IAEjC,KAAKpD,GAED,GADA7I,QAAQC,IAAI,oBAAsB0L,EAAOd,QAAQtD,IAC7CoE,EAAOd,QAAQtD,GAAI,CACnB,IAAI2E,EAAW3B,EAAM9C,MAAMJ,OACvB,SAAAC,GAAI,OAAIA,EAAKC,KAAOoE,EAAOd,QAAQtD,KAEvC,OAAOtG,OAAAC,EAAA,EAAAD,CAAA,GAAIsJ,EAAX,CAAkB9C,MAAOyE,IAE7B,OAAO3B,EACX,KAAKzB,GACD,GAAI6C,EAAOd,QAAQtD,GAAI,CACf2E,EAAW3B,EAAM9C,MAAM7G,IAAI,SAAA0G,GAAI,OAC/BA,EAAKC,KAAOoE,EAAOd,QAAQtD,GAAKoE,EAAOd,QAAUvD,IAGrD,OADAiD,EAAM9C,MAAMyE,EACL3B,EAEX,OAAOA,EACX,QACI,OAAOA,GAInB,SAAS4B,GAAc/E,EAAQuE,GAE3B,OADA3L,QAAQC,IAAI0L,GACJA,EAAOlC,MACX,KAAKT,GACD,OAAO/H,OAAA8K,GAAA,EAAA9K,CAAI0K,EAAOd,SACtB,KAAKjC,GAYL,KAAKC,GAYL,KAAKC,GACD,OAAI6C,EAAOd,QAAQ9D,QACRK,EAAOxG,IAAI,SAAA2J,GACd,OAAIA,EAAMhD,KAAOoE,EAAOd,QAAQ9D,QACrB2E,GAAanB,EAAOoB,GAEpBpB,IAIRnD,EAEf,KAAKsB,GACD,OAAOzH,OAAA8K,GAAA,EAAA9K,CACAmG,GADP4E,OAAA,CAEI,CACIzE,GAAIsE,IAAQC,cAGxB,KAAKnD,GACD,OAAOvB,EAAOxG,IAAI,SAAA0G,GAAI,OAAIoE,GAAapE,EAAMqE,KACjD,QACI,OAAOvE,GAInB,SAASgF,GAAcX,EAAQE,GAC3B,OAAQA,EAAOlC,MACX,KAAKV,GACD,OAAO9H,OAAAC,EAAA,EAAAD,CAAA,GAAI0K,EAAOd,SACtB,QACI,OAAOY,GAInB,SAASY,GAAkBrF,EAAY2E,GACnC,OAAQA,EAAOlC,MACX,KAAKV,GACD,OAAO9H,OAAAC,EAAA,EAAAD,CAAA,GACA+F,EADP,CAEIyE,OAAQW,GAAcpF,EAAWyE,OAAQE,KAEjD,KAAK1C,GACD,OAAOhI,OAAAC,EAAA,EAAAD,CAAA,GACA+F,EACA2E,EAAOd,SAElB,KAAK3B,GACD,OAAOyC,EAAOd,QAClB,QACI,OAAO5J,OAAAC,EAAA,EAAAD,CAAA,GACA+F,EADP,CAEII,OAAQ+E,GAAcnF,EAAWI,OAAQuE,MC3IzD,IAAMW,GAAStN,IAAMoK,KAAK,SAAgB3J,GAEtC,OADAO,QAAQC,IAAI,mBAAoBR,GAE5BS,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAACyC,EAAD,KACI3C,EAAAC,EAAAC,cAAC2C,EAAD,sBACA7C,EAAAC,EAAAC,cAAA,SACIgB,MAAO,CAACoI,MAAM,SACd9I,MAAOjB,EAAMsK,KACbL,SAAU,SAAAjI,GACNhC,EAAM8M,eAANtL,OAAAC,EAAA,EAAAD,CAAA,GAAyBxB,EAAzB,CAAgCsK,KAAMtI,EAAEqI,OAAOpJ,aAI3DR,EAAAC,EAAAC,cAACyC,EAAD,KACI3C,EAAAC,EAAAC,cAAC2C,EAAD,4BACA7C,EAAAC,EAAAC,cAAA,SACIgB,MAAO,CAACoI,MAAM,SACd9I,MAAOjB,EAAM+M,KACb9C,SAAU,SAAAjI,GACNhC,EAAM8M,eAANtL,OAAAC,EAAA,EAAAD,CAAA,GAAyBxB,EAAzB,CAAgC+M,KAAM/K,EAAEqI,OAAOpJ,aAI3DR,EAAAC,EAAAC,cAACyC,EAAD,KACI3C,EAAAC,EAAAC,cAAC2C,EAAD,sBACA7C,EAAAC,EAAAC,cAAA,SACIgB,MAAO,CAACoI,MAAM,SACd9I,MAAOjB,EAAMgN,QACb/C,SAAU,SAAAjI,GACNhC,EAAM8M,eAANtL,OAAAC,EAAA,EAAAD,CAAA,GAAyBxB,EAAzB,CAAgCgN,QAAShL,EAAEqI,OAAOpJ,gBCjBpEgM,GAAgBtH,EAAOC,QAAU,yBAInCsH,GAASC,IAAU,SAAUC,GAC7B,OAAOA,EAAOC,WAiClB,SAASC,KACL/M,QAAQC,IAAI,cADM,IAAA+M,EAEaC,qBAAWZ,GAb9C,WACIrM,QAAQC,IAAI,6BACZ,IAAIiN,EAAqBvL,OAAOuF,aAAaC,QAAQ,cACrD,IAEI,OADmB+F,EAAkBvG,KAAKM,MAAMiG,GAAmB,KAEtE,MAAOzL,GACJE,OAAOuF,aAAaiG,WAAW,eAM0BC,IAF3CC,EAAApM,OAAA8C,EAAA,EAAA9C,CAAA+L,EAAA,GAEXhG,EAFWqG,EAAA,GAEC7C,EAFD6C,EAAA,GAGlBnJ,oBACI,SAAAzC,GACIzB,QAAQC,IAAI,uBAAuB+G,GAC/BA,GACAnC,MAAM6H,IAAe1G,KAAK,SAAUC,GAChCjG,QAAQC,IAAI,uBAAuBgG,GAChCA,EAAIjB,IACHiB,EAAIzB,OAAOwB,KAAK,SAAUxB,GAvClD,IAAqBR,EACbsJ,EAOAC,EACAC,EA+BoBhD,EAAS,CACLf,KAAKP,GACL2B,QAAQ,CACJY,OAAQ,CACJ1B,KAAM,GACNyC,KAAM,GACNC,QAAS,+EAEbrF,QAhDfpD,EAgDmCQ,EA/ChD8I,EAAYtJ,EAAKpD,IAAI,SAAA0G,GACrB,OAAOrG,OAAAC,EAAA,EAAAD,CAAA,GACAqG,EADP,CACayC,KAAMzC,EAAKyC,MAAQ,GAC5BnC,MAAQlC,GAAS4B,EAAKM,OAAS,IAAIsC,IAAI5C,EAAKM,OAAOwC,QAAQ,GAAK,EAChEvC,MAAO,EAAGF,SAAS,MAGvB4F,EAAUZ,GAAOW,GACjBE,EAAgBvM,OAAOwM,KAAKF,GAAS3M,IAAI,SAAAsK,GAAG,MAAK,CACjD3D,GAAIsE,IAAQC,WACZf,MAAOG,EACPzD,MAAO8F,EAAQrC,MAEnBlL,QAAQC,IAAIuN,GACLA,WA0CH,IAIJtJ,oBACI,SAAAzC,GACI,IAAIiM,EAAI/G,KAAKC,UAAUI,GACvBrF,OAAOuF,aAAayG,QAAQ,aAAcD,IAE9C,CAAC1G,IAGL,IAAM4G,EAAyBlD,sBAAYC,IAAEC,SAAS,SAAAa,GAClDzL,QAAQC,IAAI,0BACZuK,EAAS,CAACf,KAAMV,GAAe8B,QAASY,KACzC,GAAI,IAOP,OACIvL,EAAAC,EAAAC,cAAA,WAEIF,EAAAC,EAAAC,cAACkF,EAAgB7E,SAAjB,CAA0BC,MAAO8J,GAE7BtK,EAAAC,EAAAC,cAACyB,EAAD,KACI3B,EAAAC,EAAAC,cAACgC,EAAD,CAAQG,SAAO,EAACf,QAXhC,WACIG,OAAOuF,aAAaiG,WAAW,cAC/B7G,MAAM,4BACN3E,OAAOrB,QAAQsB,UAAU,kBAAkB,KAAK,qBAQpC,iBAMAoF,EAAW9G,EAAAC,EAAAC,cAAA,WACPF,EAAAC,EAAAC,cAACyB,EAAD,KACI3B,EAAAC,EAAAC,cAACqC,EAAD,6CACAvC,EAAAC,EAAAC,cAACuC,EAAD,KACIzC,EAAAC,EAAAC,cAACyC,EAAD,KACI3C,EAAAC,EAAAC,cAAC2C,EAAD,kCACA7C,EAAAC,EAAAC,cAAA,SACIM,MAAOsG,EAAW+C,KAClBL,SAAU,SAAAjI,GACN+I,EAAS,CACLf,KAAMR,GAAmB4B,QAAS,CAC9Bd,KAAMtI,EAAEqI,OAAOpJ,aAMnCR,EAAAC,EAAAC,cAACyC,EAAD,KACI3C,EAAAC,EAAAC,cAAC2C,EAAD,kCACA7C,EAAAC,EAAAC,cAAA,SACIM,MAAOsG,EAAW6G,YAClBnE,SAAU,SAAAjI,GACN+I,EAAS,CACLf,KAAMR,GAAmB4B,QAAS,CAC9BgD,YAAapM,EAAEqI,OAAOpJ,eASlDR,EAAAC,EAAAC,cAACyB,EAAD,KACI3B,EAAAC,EAAAC,cAACqC,EAAD,iCACAvC,EAAAC,EAAAC,cAACuC,EAAD,KACIzC,EAAAC,EAAAC,cAAC0N,GAAD7M,OAAAgK,OAAA,GACQjE,EAAWyE,OADnB,CAEIc,eAAgBqB,OAI5B1N,EAAAC,EAAAC,cAAA,WACK4G,EAAWI,OAASlH,EAAAC,EAAAC,cAAC2N,GAAD,CAAQ3G,OAAQJ,EAAWI,SAAY,OAG7D,OC1J3B,IAAMtB,GAAwBV,EAAOC,QAAS,cAE9C,SAAS2I,KACL,IZUkBC,EAAWC,EAAAC,EACxBzN,EAAO0N,EYXNpK,EAAMV,EAAawC,GAAuB,WAAW,CACvDU,OAAQ,OACRJ,QAAS,CACLK,OAAQ,mBACRC,eAAgB,oBAEpBH,KAAKI,KAAKC,UAAU,MAElBS,GZEY4G,EYFQ,KZEGC,EACLrK,mBAASoK,GADJE,EAAAlN,OAAA8C,EAAA,EAAA9C,CAAAiN,EAAA,GACxBxN,EADwByN,EAAA,GACjBC,EADiBD,EAAA,GAKtB,CAAEzN,QAAOgJ,SAHD,SAAAjI,GACX2M,EAAS3M,EAAEqI,OAAOpJ,UYHtB,OADAV,QAAQC,IAAI,kBACLC,EAAAC,EAAAC,cAAA,WACHF,EAAAC,EAAAC,cAACyB,EAAD,KACI3B,EAAAC,EAAAC,cAACyC,EAAD,KACI3C,EAAAC,EAAAC,cAAC2C,EAAD,4BACA7C,EAAAC,EAAAC,cAAA,QAAAa,OAAAgK,OAAA,GAAW5D,EAAX,CAAmBjG,MAAO,CAACoI,MAAM,cAGzCtJ,EAAAC,EAAAC,cAACyB,EAAD,KACI3B,EAAAC,EAAAC,cAAA,aACIF,EAAAC,EAAAC,cAAA,aACAF,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,0BACAF,EAAAC,EAAAC,cAAA,gCACAF,EAAAC,EAAAC,cAAA,gCACAF,EAAAC,EAAAC,cAAA,sCACAF,EAAAC,EAAAC,cAAA,4BAGJF,EAAAC,EAAAC,cAAA,aACC4D,EAAKA,EAAKqD,OAAO,SAAAG,GAAG,QAAG6G,kBAAQhH,EAAO3G,STyDrC4N,GSzD2D9G,EAAI+G,YAAY,KAAK/G,EAAIgH,YAAY,ITyD3FC,ESzD+FpH,EAAO3G,MT0DjH,MAAL4N,GAAkB,MAALG,IACY,GAArBH,EAAII,QAAQD,IAFvB,IAAkBH,EAAKG,ISzD+G7N,IAAI,SAAC0G,EAAKsC,GAAN,OACtH1J,EAAAC,EAAAC,cAAA,MAAI8K,IAAKtB,GACL1J,EAAAC,EAAAC,cAAA,UAAKkH,EAAKiH,YACVrO,EAAAC,EAAAC,cAAA,UAAKkH,EAAKkH,YACVtO,EAAAC,EAAAC,cAAA,UAAKkH,EAAKuG,aACV3N,EAAAC,EAAAC,cAAA,UAAKkH,EAAKqH,YACVzO,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAACe,EAAD,CAAMC,MAAO,CAACoI,MAAM,UAAWjI,GAAI,oBAAoB+F,EAAKC,GAAI2D,IAAK5D,EAAKC,IAA1E,oBAGT,sCClCfqH,GAAY,CACZnD,OAAQ,CACJ1B,KAAK,GACLyC,KAAK,GACLC,QAAQ,+EAEZrF,OAAQ,IAIZ,SAASyH,GAAepP,GACpBO,QAAQC,IAAI,iBAAiBR,EAAMa,QAAQV,OAAO2H,IAClD,IAAMA,EAAG9H,EAAMa,QAAQV,OAAO2H,GAE9B5F,OAAOuF,aAAaiG,WAAW,cAJJ,IAAAH,EAMIC,qBAAWZ,GAAmBuC,IANlCvB,EAAApM,OAAA8C,EAAA,EAAA9C,CAAA+L,EAAA,GAMpBhG,EANoBqG,EAAA,GAMR7C,EANQ6C,EAAA,GAOrByB,EAAiBxL,EAAa8B,EAAOC,QAAQ,eAAekC,EAAI,CAC1Df,OAAQ,MACRJ,QAAS,CACLK,OAAQ,sBAKxBvC,oBACI,SAAAzC,GACMqN,IACC9O,QAAQC,IAAI,iBAAiB6O,GAC7BtE,EAAS,CACLf,KAAKP,GACL2B,QAAQiE,MAInB,CAACA,IAGL5K,oBACI,SAAAzC,GACIzB,QAAQC,IAAI,uBAAuB+G,GACnC,IAAI0G,EAAE/G,KAAKC,UAAUI,GACrBrF,OAAOuF,aAAayG,QAAQ,aAAaD,IAE7C,CAAC1G,IAGL,IAAM4G,EAAyBlD,sBAAYC,IAAEC,SAAS,SAAAa,GAClDzL,QAAQC,IAAI,0BACZuK,EAAS,CAACf,KAAMV,GAAe8B,QAASY,KAC1C,GAAI,IAEN,OACIvL,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAACkF,EAAgB7E,SAAjB,CAA0BC,MAAO8J,GAE7BtK,EAAAC,EAAAC,cAACyB,EAAD,KACI3B,EAAAC,EAAAC,cAACqC,EAAD,6CACAvC,EAAAC,EAAAC,cAACuC,EAAD,KACIzC,EAAAC,EAAAC,cAACyC,EAAD,KACI3C,EAAAC,EAAAC,cAAC2C,EAAD,kCACA7C,EAAAC,EAAAC,cAAA,SACIM,MAAOsG,EAAW+C,KAClBL,SAAU,SAAAjI,GACN+I,EAAS,CAACf,KAAMR,GAAmB4B,QAAQ,CACnCd,KAAKtI,EAAEqI,OAAOpJ,aAKlCR,EAAAC,EAAAC,cAACyC,EAAD,KACI3C,EAAAC,EAAAC,cAAC2C,EAAD,kCACA7C,EAAAC,EAAAC,cAAA,SACIM,MAAOsG,EAAW6G,YAClBnE,SAAU,SAAAjI,GACN+I,EAAS,CAACf,KAAMR,GAAmB4B,QAAQ,CACnCgD,YAAYpM,EAAEqI,OAAOpJ,eAQjDR,EAAAC,EAAAC,cAACyB,EAAD,KACI3B,EAAAC,EAAAC,cAACqC,EAAD,iCACAvC,EAAAC,EAAAC,cAACuC,EAAD,KACIzC,EAAAC,EAAAC,cAAC0N,GAAD7M,OAAAgK,OAAA,GACQjE,EAAWyE,OADnB,CAEIc,eAAgBqB,OAI5B1N,EAAAC,EAAAC,cAAA,WACK4G,EAAWI,OAASlH,EAAAC,EAAAC,cAAC2N,GAAD,CAAQ3G,OAAQJ,EAAWI,SAAa,0WC3GjF,IAAM2H,GAASjN,UAAOC,IAAViN,MAINC,GAAcnN,UAAOC,IAAVmN,MAMXC,GAAUrN,UAAOC,IAAVqN,MCWb,SAASC,KACL,OACQnP,EAAAC,EAAAC,cAAC2O,GAAD,KACI7O,EAAAC,EAAAC,cAAC6O,GAAD,KACI/O,EAAAC,EAAAC,cAAC8C,EAAD,KACIhD,EAAAC,EAAAC,cAACgD,EAAD,KACKlD,EAAAC,EAAAC,cAACkP,GAAA,EAAD,CAAiBC,KAAMC,OACvBtP,EAAAC,EAAAC,cAACe,EAAD,CAAMI,GAAG,eAAT,6BAELrB,EAAAC,EAAAC,cAACgD,EAAD,KACIlD,EAAAC,EAAAC,cAACkP,GAAA,EAAD,CAAiBC,KAAME,OACvBvP,EAAAC,EAAAC,cAACe,EAAD,CAAMI,GAAG,mBAAT,+BAIZrB,EAAAC,EAAAC,cAAC+O,GAAD,KACIjP,EAAAC,EAAAC,cAACZ,EAAD,CAAOK,OAAK,EAACC,KAAK,cAAcO,UAAW2N,KAC3C9N,EAAAC,EAAAC,cAACZ,EAAD,CAAOK,OAAK,EAACC,KAAK,kBAAkBO,UAAW0M,KAC/C7M,EAAAC,EAAAC,cAACZ,EAAD,CAAOK,OAAK,EAACC,KAAK,uBAAuBO,UAAWwO,OC/BxE,IAGMa,oLAEE,OACIxP,EAAAC,EAAAC,cAACG,EAAD,KACIL,EAAAC,EAAAC,cAACZ,EAAD,CAAOM,KAAK,IAAIO,UAAWgP,aAJzBrQ,IAAM2Q,WAUlBC,GAAc3H,SAAS4H,eAAe,QAC5CC,IAASC,OAAO7P,EAAAC,EAAAC,cAAC4P,GAAD,MAAQJ","file":"static/js/main.40fb8039.chunk.js","sourcesContent":["import React, { useState, useEffect,useContext } from \"react\";\r\nimport { useLocation } from \"react-use\";\r\nconst RouterContext=React.createContext();\r\n\r\nvar route = require('path-match')({\r\n    sensitive: false,\r\n    strict: false,\r\n    end: false,\r\n});\r\n\r\nvar routeExact = require('path-match')({\r\n    sensitive: false,\r\n    strict: false,\r\n    end: true,\r\n});\r\n\r\n/**@xyg\r\n * import pathToRegexp from \"path-to-regexp\";\r\n * https://github.com/pillarjs/path-to-regexp#parameters\r\n * https://github.com/dashed/react-hashchange/blob/master/src/index.js\r\n * https://github.com/pillarjs/path-match\r\n * https://www.npmjs.com/package/path-to-regexp\r\n */\r\n\r\nfunction Route(props) {\r\n    const historyState=useContext(RouterContext);\r\n    var match = props.exact? routeExact(props.path): route(props.path) ;\r\n    var params = match(historyState.pathname);\r\n    console.log(\"Route.............\",props.path,historyState.pathname);\r\n    console.log(\"Route.............params\",params);\r\n    if (params === false) {\r\n        return null;\r\n    }\r\n    return <props.component history={{params:params}} />;\r\n}\r\n\r\n\r\nfunction Router(props) {\r\n    const historyState = useLocation();\r\n    return (\r\n        <RouterContext.Provider value={historyState}>\r\n            {\r\n                React.Children.map(props.children, (child, i) => {\r\n                    if (typeof child === \"function\") {\r\n                        return child();\r\n                    }\r\n                    return React.cloneElement(child, { ...child.props });//, historyState: historyState 使用上下文代替props\r\n                })\r\n            }\r\n        </RouterContext.Provider>\r\n    )\r\n}\r\n\r\nfunction Link(props){\r\n    function goTo(e){\r\n        e.preventDefault();\r\n        window.history.pushState(props.to,null,props.to);\r\n    }\r\n    return <a style={{margin:\"8px\"}} href={props.to} onClick={goTo}>{props.children}</a>\r\n}\r\n\r\nexport{\r\n    Router,\r\n    Route,\r\n    Link\r\n}","import styled, {css} from \"styled-components\";\r\n\r\n\r\nconst Panel = styled.div`\r\n  padding: 16px;\r\n  border: 1px solid #ebedf0;\r\n  margin: 16px;\r\n  ${props => props.center && css`\r\n        text-align:center;\r\n  `}\r\n`;\r\n\r\nconst Button = styled.span`\r\n    padding: 4px 16px;\r\n    border: 1px solid #ebedf0;\r\n    outline: 0;\r\n    line-height: 1.499;\r\n    display: inline-block;\r\n    font-weight: 400;\r\n    text-align: center;\r\n    color: #fff;\r\n    box-shadow: 0 2px 0 rgba(0,0,0,0.045);\r\n    cursor:pointer;\r\n      ${props => props.primary && css`\r\n                border-color: #1890ff;\r\n                background:#1890ff;\r\n      `}\r\n`;\r\n\r\nconst PanelHeader = styled.div`\r\n  padding: 8px;\r\n`;\r\n\r\nconst PanelBody = styled.div`\r\n  padding: 8px;\r\n`;\r\n\r\n\r\nconst FormItem = styled.div`\r\n  padding: 4px;\r\n`;\r\n\r\nconst Label = styled.label`\r\n  display:inline-block;\r\n  width:5em;\r\n  text-align:right;\r\n  margin:4px 8px;\r\n`;\r\n\r\nconst Menu = styled.div`\r\n    height:100vh;\r\n    display:flex;\r\n    flex-direction:column;\r\n    background-color: rgb(0, 12, 23);\r\n`;\r\n\r\n\r\nconst MenuItem = styled.div`\r\n    padding:8px 16px;\r\n    color: #fff;\r\n    background:#001529;\r\n    margin:2px 0px;\r\n    &:hover {\r\n        background-color: #1890ff;\r\n    }\r\n    > *{ \r\n       color: #fff;\r\n       text-decoration:none;\r\n    }\r\n`;\r\n\r\nexport {\r\n    Panel,\r\n    PanelHeader,\r\n    PanelBody,\r\n    FormItem,\r\n    Label,\r\n    Menu,\r\n    MenuItem,\r\n    Button\r\n}","import {useEffect, useState} from \"react\";\r\nfunction useFetchData(...params) {\r\n    var [data, setData] = useState(null);\r\n    useEffect(() => {\r\n        (async function() {\r\n            try {\r\n                var response = await fetch(...params);\r\n                if (response.ok) {\r\n                    var json = await response.json();\r\n                    setData(json);\r\n                }\r\n            } catch (e) {\r\n\r\n            }\r\n        })();\r\n      }\r\n    , []);\r\n    return data;\r\n}\r\n\r\n\r\nfunction useFormInput(initValue) {\r\n    var [value, setValue] = useState(initValue);\r\n    var onChange = e => {\r\n        setValue(e.target.value);\r\n    };\r\n    return { value, onChange };\r\n}\r\n\r\nexport {\r\n    useFetchData,\r\n    useFormInput\r\n}\r\n\r\n\r\n\r\n\r\n// async function () {\r\n//     try {\r\n//         var response = await fetch(...params);\r\n//         if (response.ok) {\r\n//             var json = await response.json();\r\n//             setData(json);\r\n//         }\r\n//     } catch (e) {\r\n//\r\n//     }\r\n// }\r\n\r\n\r\n// url, {\r\n//     method: \"POST\",\r\n//     headers: {\r\n//         Accept: \"application/json\",\r\n//         \"Content-Type\": \"application/json\"\r\n//     },\r\n//     body: body ? JSON.stringify(body) : \"\"\r\n// }\r\n","\r\n//const baseUrl = \"http://192.168.1.105:8080/gen\";\r\n//const baseUrl = \"http://127.0.0.1:8080/gen\";\r\n//const baseUrl = \"http://47.106.199.127:8080/gen\";\r\n\r\nconst config={\r\n    baseUrl:\"http://47.106.199.127:8080/gen\",\r\n    // baseUrl : \"http://127.0.0.1:8080/gen\"\r\n}\r\n\r\nexport {config}\r\n","import React, {useContext} from \"react\";\r\nconst DispatchContext = React.createContext();\r\nexport {\r\n    DispatchContext\r\n}","import moment from 'moment';\r\n\r\nfunction decode_utf8(s) {\r\n    var decodeUrlStr=decodeURIComponent(s);\r\n    return decodeUrlStr;\r\n}\r\n\r\nfunction objectToQueryString(params){\r\n    let esc = encodeURIComponent;\r\n    let query = Object.keys(params)\r\n        .map(k => esc(k) + '=' + esc(params[k]))\r\n        .join('&');\r\n}\r\n\r\nfunction arrayToObject(arr){\r\n    var obj = arr.reduce(function(acc, cur, i) {\r\n        acc[i] = cur;\r\n        return acc;\r\n    }, {});\r\n}\r\n\r\nfunction yuanToFen(x){\r\n\tvar f=parseFloat(x).toFixed(2);\r\n    var num = new Number(f*100).toFixed(0);\r\n    return num;\r\n}\r\n\r\nfunction stringCompare(a,b) {\r\n    if(a > b) return 1;\r\n    if(a < b) return -1;\r\n    return 0;\r\n}\r\n\r\nfunction identify(x){\r\n    return function () {\r\n        return x;\r\n    }\r\n}\r\n\r\nfunction addf(x){\r\n    return function (y) {\r\n        return x+y;\r\n    }\r\n}\r\n\r\nfunction isNumber(obj) {\r\n    return !isNaN(obj)\r\n}\r\n\r\nfunction add(x,y) {\r\n    return x+y;\r\n}\r\n\r\nfunction liftf(binaary) {\r\n    return function (x) {\r\n        return function(y){\r\n            return binaary(x,y);\r\n        }\r\n    }\r\n}\r\n\r\nfunction arrayg(first) {\r\n    var array=[];\r\n    function more(next) {\r\n        if(next===undefined)\r\n        {\r\n            return array;\r\n        }\r\n        array.push(next);\r\n        return more;\r\n    }\r\n    return more(first);\r\n}\r\n\r\nfunction dealMoment(obj) {\r\n    Object.keys(obj).forEach(item=>{\r\n        if(obj[item] && moment.isMoment( obj[item]) )\r\n        {\r\n            obj[item]=obj[item].format(\"YYYY-MM-DD HH:mm:ss\");\r\n        }\r\n    });\r\n}\r\n\r\nfunction fenToYuan(fen){\r\n    if(fen==null){\r\n        return null;\r\n    }\r\n    return (parseInt(fen)/100).toFixed(2);\r\n}\r\n\r\nfunction fenToYuanDesc(fen){\r\n    if(fen==null){\r\n        return \"\";\r\n    }\r\n    return fenToYuan(fen)+\"元\";\r\n}\r\n\r\nfunction contains(str, sub){\r\n    if(str==null || sub==null) return false;\r\n    return str.indexOf(sub) != -1;\r\n}\r\nfunction isEmpty(str) {\r\n    if(str==undefined || str==null || str==\"\" ){\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n\r\nexport  {decode_utf8,dealMoment,fenToYuanDesc,fenToYuan,yuanToFen,stringCompare,contains,isNumber}","import {decode_utf8} from \"../utils\";\r\nimport {config} from \"../config\";\r\n\r\nconst genpdfServce =config.baseUrl+ \"/contractor/genpdf\";\r\nconst commonContractorServce =config.baseUrl+ \"/contractor\";\r\n\r\n\r\n\r\nfunction fetchB(...args) {\r\n    return fetch(...args).then(function(res){\r\n\t\tif(res.status!=200){\r\n\t\t\tvar message=res.headers.get(\"message\");\r\n\t\t\tmessage=decode_utf8(message);\t\r\n\t\t\talert(message);\r\n\t\t\tthrow message;\r\n\t\t}\r\n\t\treturn res;\r\n\t});\r\n}\r\n\r\n\r\n\r\nasync function exportPdf(body) {\r\n    var response = await fetchB(\r\n        genpdfServce,\r\n        {\r\n            method: \"POST\",\r\n            headers: {\r\n                Accept: \"text/csv;charset=GBK\",\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify(body)\r\n        }\r\n    );\r\n    return response;\r\n}\r\n\r\nfunction saveContractor() {\r\n    var body=JSON.parse(localStorage.getItem(\"contractor\"));\r\n    console.log(\"saveContractor\",body);\r\n    fetchB(commonContractorServce, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: body ? JSON.stringify(body) : \"\"\r\n    }).then(function (response) {\r\n        if (response.ok) {\r\n            alert(\"导入成功！\");\r\n        }else{\r\n            alert(\"导入失败！\"+response.status);\r\n        }\r\n    })\r\n}\r\n\r\n\r\n\r\nfunction searchContractor(body) {\r\n    var response =  fetch(commonContractorServce+\"/_search\", {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: body ? JSON.stringify(body) : \"\"\r\n    });\r\n    if (response.ok) {\r\n        alert(\"查询成功！\");\r\n        response.json().then(function (data) {\r\n            console.log(data);\r\n        });\r\n    }else{\r\n        alert(\"查询失败！\");\r\n    }\r\n}\r\n\r\n\r\nfunction exportOrder(orderId) {\r\n    var contractor=JSON.parse(localStorage.getItem(\"contractor\"));\r\n    console.log(\"contractor.........\",contractor);\r\n    contractor.orders.filter(item=>item.id==orderId).map(one=>{\r\n        var items=one.items.filter(orderItem => orderItem.checked && (isNaN(orderItem.price) || isNaN(orderItem.count) ) )\r\n        if(items.length>0){\r\n            console.log(\"数据填写有误\");\r\n        }\r\n    });\r\n    var contractorNew={\r\n        ...contractor,\r\n        orders:contractor.orders.filter(item=>item.id==orderId).map(one=>{\r\n            console.log(\"one\",one);\r\n            one.items=one.items.filter(orderItem => orderItem.checked)\r\n            return one;\r\n        })\r\n    };\r\n    console.log(\"contractorNew\",contractorNew);\r\n    exportPdf(contractorNew).then(res => {\r\n            if (res.ok) {\r\n                res.blob().then(blob => {\r\n                    try {\r\n                        var a = document.createElement(\"a\");\r\n                        var url = window.URL.createObjectURL(blob);\r\n                        var filename = res.headers\r\n                            .get(\"Content-Disposition\")\r\n                            .split(\";\")[1]\r\n                            .split(\"=\")[1];\r\n                        a.href = url;\r\n                        a.download = decode_utf8(filename);\r\n                        a.click();\r\n                        window.URL.revokeObjectURL(url);\r\n                    } catch (e) {\r\n                        alert(e)\r\n                    }\r\n                })\r\n            }else{\r\n                alert(\"导出失败:\"+res.status);\r\n            }\r\n        }\r\n    );\r\n}\r\n\r\nexport {\r\n    exportPdf,\r\n    saveContractor,\r\n    searchContractor,\r\n    exportOrder\r\n}","import React from \"react\";\r\n\r\nconst ADD_ORDER = \"ADD_ORDER\";\r\nconst UPDATE_ORDER = \"UPDATE_ORDER\";\r\nconst ADD_ORDER_ITEM = \"ADD_ORDER_ITEM\";\r\nconst DELETE_ORDER_ITEM = \"DELETE_ORDER_ITEM\";\r\nconst UPDATE_ORDER_ITEM = \"UPDATE_ORDER_ITEM\";\r\nconst UPDATE_PERSON = \"UPDATE_PERSON\";\r\nconst INIT_ORDER = \"INIT_ORDER\";\r\nconst UPDATE_CONTRACTOR = \"UPDATE_CONTRACTOR\";\r\nconst INIT_CONTRACTOR = \"INIT_CONTRACTOR\";\r\nexport {\r\n    ADD_ORDER,\r\n    UPDATE_ORDER,\r\n    ADD_ORDER_ITEM,\r\n    DELETE_ORDER_ITEM,\r\n    UPDATE_ORDER_ITEM,\r\n    UPDATE_PERSON,\r\n    INIT_ORDER,\r\n    UPDATE_CONTRACTOR,\r\n    INIT_CONTRACTOR\r\n}","import React from \"react\";\r\nimport Big from \"big.js\";\r\nimport {Throttle} from \"react-throttle\";\r\nimport {isNumber} from \"../../utils\";\r\n\r\nconst OrderItem = React.memo(function (props) {\r\n    console.log(\"orderitem\", props);\r\n    function getItemTotal() {\r\n        if (props.count && props.price) {\r\n            return (isNumber(props.count) && isNumber(props.price)) ? new Big(props.count).times(new Big(props.price)).toFixed(2) : 0;\r\n        }\r\n        return 0;\r\n    }\r\n    return (\r\n        <React.Fragment>\r\n            <tr style={{background: (props.checked ? \"#bababa\" : \"\")}}\r\n            >\r\n                <td>\r\n                    <input\r\n                        style={{height:\"20px\",width:\"20px\"}}\r\n                        checked={props.checked}\r\n                        type=\"checkbox\"\r\n                        onChange={e => {\r\n                            props.onOrderItemChange({...props, checked: !props.checked});\r\n                        }}\r\n                    />\r\n                </td>\r\n                <td>\r\n                    <span>{props.index}</span>\r\n                </td>\r\n                <td>\r\n                        <input\r\n                            value={props.subcategory}\r\n                            onChange={e => {\r\n                                props.onOrderItemChange({...props, subcategory: e.target.value});\r\n                            }}\r\n                        />\r\n                </td>\r\n                <td>\r\n                    <input\r\n                        value={props.name}\r\n                        onChange={e => {\r\n                            props.onOrderItemChange({...props, name: e.target.value});\r\n                        }}\r\n                    />\r\n                </td>\r\n                <td>\r\n                    <input\r\n                        value={props.subname}\r\n                        onChange={e => {\r\n                            props.onOrderItemChange({...props, subname: e.target.value});\r\n                        }}\r\n                    />\r\n                </td>\r\n                <td>\r\n                    <input\r\n                        value={props.unit}\r\n                        onChange={e => {\r\n                            props.onOrderItemChange({...props, unit: e.target.value});\r\n                        }}\r\n                    />\r\n                </td>\r\n                <td>\r\n                    <input\r\n                        value={props.price}\r\n                        onChange={e => {\r\n                            if (isNaN(e.target.value)) return;\r\n                            props.onOrderItemChange({...props, price: e.target.value});\r\n                        }}\r\n                    />\r\n                </td>\r\n                <td>\r\n                    <input\r\n                        value={props.count}\r\n                        onChange={e => {\r\n                            if (isNaN(e.target.value)) return;\r\n                            props.onOrderItemChange({...props, count: e.target.value});\r\n                        }}\r\n                    />\r\n                </td>\r\n                <td>\r\n                    <span>{getItemTotal()}</span>\r\n                </td>\r\n                <td>\r\n                    <a href={\"#\"}\r\n                       onClick={e => {\r\n                           props.onOrderItemDelete({...props});\r\n                       }}\r\n                    >\r\n                        删除\r\n                    </a>\r\n                </td>\r\n            </tr>\r\n        </React.Fragment>\r\n    );\r\n});\r\nexport {\r\n    OrderItem\r\n}","import React, {useCallback, useContext} from \"react\";\r\nimport _ from \"lodash\";\r\nimport {Panel, PanelBody, PanelHeader} from \"../../ui\";\r\nimport {exportOrder, saveContractor} from \"../../services/contractor\";\r\nimport {DispatchContext} from \"./DispatchContext\";\r\nimport {ADD_ORDER_ITEM, DELETE_ORDER_ITEM, UPDATE_ORDER_ITEM} from \"../../actions\";\r\nimport {OrderItem} from \"./OrderItem\";\r\n\r\n\r\nfunction getOrderTotal(order) {\r\n    if (order && order.items) {\r\n        return order.items\r\n            .filter(item => item.checked)\r\n            .map(item => item.count * item.price)\r\n            .reduce((cur, total) => {\r\n                return cur + total;\r\n            }, 0).toFixed(2);\r\n    }\r\n    return 0;\r\n}\r\n\r\n\r\nconst Order = React.memo(function (props) {\r\n    console.log(\"Order\", props);\r\n    const dispatch = useContext(DispatchContext);\r\n    const onOrderItemChangeThrottle = useCallback(\r\n        _.throttle(orderItem => {\r\n            console.log(\"onOrderItemChange\");\r\n            dispatch({\r\n                type: UPDATE_ORDER_ITEM,\r\n                payload: {...orderItem, orderId: props.id}\r\n            });\r\n        }, 0),\r\n        []\r\n    );\r\n\r\n    //必须使用 useCallback，要不然每次Order，都会创建不同的onchange的处理的函数，导致属性被更新，从而造成重新渲染组件\r\n    const onOrderItemDeleteCallback = useCallback(\r\n        orderItem => {\r\n            console.log(\"onOrderItemDelete\");\r\n            dispatch({\r\n                type: DELETE_ORDER_ITEM,\r\n                payload: {...orderItem, orderId: props.id}\r\n            });\r\n        },\r\n        []\r\n    );\r\n\r\n    return (\r\n        <Panel>\r\n            <PanelHeader>\r\n                <span>{props.title}</span>\r\n            </PanelHeader>\r\n            <PanelBody>\r\n                <table>\r\n                    <colgroup>\r\n                        <col style={{width:\"50px\"}}/>\r\n                        <col style={{width:\"50px\"}}/>\r\n                        <col style={{width:\"100px\"}}/>\r\n                        <col style={{width:\"100px\"}}/>\r\n                        <col style={{width:\"100px\"}}/>\r\n                        <col style={{width:\"70px\"}}/>\r\n                        <col style={{width:\"80px\"}}/>\r\n                        <col style={{width:\"80px\"}}/>\r\n                        <col style={{width:\"80px\"}}/>\r\n                        <col style={{width:\"80px\"}} align=\"center\"/>\r\n                    </colgroup>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>选中</th>\r\n                            <th>序号</th>\r\n                            <th>分类</th>\r\n                            <th>名称</th>\r\n                            <th>规格</th>\r\n                            <th>单位</th>\r\n                            <th>单价</th>\r\n                            <th>数量</th>\r\n                            <th>总价</th>\r\n                            <th>操作</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {props.items\r\n                            ? props.items.map((item, index) => {\r\n                                return (\r\n\r\n                                    <OrderItem\r\n                                        index={index}\r\n                                        key={item.id}\r\n                                        {...item}\r\n                                        onOrderItemChange={onOrderItemChangeThrottle}\r\n                                        onOrderItemDelete={onOrderItemDeleteCallback}\r\n                                    />\r\n\r\n                                );\r\n                            })\r\n                            : null}\r\n                    </tbody>\r\n                </table>\r\n                <span>\r\n                  总金额:\r\n                    {props.items ? getOrderTotal(props) : null}\r\n                </span>\r\n                <div>\r\n                    <button\r\n                        onClick={e =>\r\n                            dispatch({\r\n                                type: ADD_ORDER_ITEM,\r\n                                payload: {orderId: props.id}\r\n                            })\r\n                        }\r\n                    >\r\n                        添加项目\r\n                    </button>\r\n                    <button style={{marginLeft: \"8px\"}}\r\n                            onClick={e => {\r\n                                exportOrder(props.id)\r\n                            }}>\r\n                        导出\r\n                    </button>\r\n                    <button style={{marginLeft: \"8px\"}}\r\n                            onClick={e => {\r\n                                saveContractor()\r\n                            }}>\r\n                        保存\r\n                    </button>\r\n                </div>\r\n            </PanelBody>\r\n        </Panel>\r\n    );\r\n});\r\n\r\nexport {\r\n    Order\r\n}","import React, {useContext} from \"react\";\r\nimport {DispatchContext} from \"./DispatchContext\";\r\nimport {Order} from \"./Order\";\r\nimport {ADD_ORDER} from \"../../actions\";\r\nconst Orders = React.memo(function Orders(props) {\r\n    const orders = props.orders;\r\n    const dispatch = useContext(DispatchContext);\r\n    return (\r\n        <div className=\"App\">\r\n            <div>\r\n                <div>\r\n                    {orders.map((item, index) => (\r\n                        <Order key={index} {...item} person={props.person}/>\r\n                    ))}\r\n                </div>\r\n                {/*<div>final price:{getTotal()}</div>*/}\r\n                <div style={{margin: \"32px\"}}>\r\n                    <button onClick={e => dispatch({type: ADD_ORDER})}>\r\n                        ADD ORDER\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n});\r\n\r\nexport {\r\n    Orders\r\n}","import shortid from \"shortid\";\r\n\r\nimport {\r\n    ADD_ORDER,\r\n    ADD_ORDER_ITEM,\r\n    DELETE_ORDER_ITEM,\r\n    INIT_ORDER,\r\n    UPDATE_CONTRACTOR,\r\n    UPDATE_ORDER,\r\n    UPDATE_ORDER_ITEM,\r\n    UPDATE_PERSON,\r\n    INIT_CONTRACTOR\r\n} from \"../actions\";\r\n\r\n\r\nfunction reducerOrder(order, action) {\r\n    switch (action.type) {\r\n        case ADD_ORDER_ITEM:\r\n            if (order.items) {\r\n                var newItem = {\r\n                    id: shortid.generate(),\r\n                    count: 0,\r\n                    price: 0\r\n                };\r\n                return {\r\n                    ...order,\r\n                    items: [...order.items, newItem]\r\n                };\r\n            } else {\r\n                var orderitems = [\r\n                    {\r\n                        id: shortid.generate(),\r\n                        count: 0,\r\n                        price: 0\r\n                    }\r\n                ];\r\n                return {...order, items: orderitems};\r\n            }\r\n        case DELETE_ORDER_ITEM:\r\n            console.log(\"DELETE_ORDER_ITEM\" + action.payload.id);\r\n            if (action.payload.id) {\r\n                var newItems = order.items.filter(\r\n                    item => item.id !== action.payload.id\r\n                );\r\n                return {...order, items: newItems};\r\n            }\r\n            return order;\r\n        case UPDATE_ORDER_ITEM:\r\n            if (action.payload.id) {\r\n                var newItems = order.items.map(item =>\r\n                    item.id === action.payload.id ? action.payload : item\r\n                );\r\n                order.items=newItems;\r\n                return order;\r\n            }\r\n            return order;\r\n        default:\r\n            return order;\r\n    }\r\n}\r\n\r\nfunction reducerOrders(orders, action) {\r\n    console.log(action);\r\n    switch (action.type) {\r\n        case INIT_ORDER:\r\n            return [...action.payload];\r\n        case ADD_ORDER_ITEM:\r\n            if (action.payload.orderId) {\r\n                return orders.map(order => {\r\n                    if (order.id === action.payload.orderId) {\r\n                        return reducerOrder(order, action);\r\n                    } else {\r\n                        return order;\r\n                    }\r\n                });\r\n            } else {\r\n                return orders;\r\n            }\r\n        case DELETE_ORDER_ITEM:\r\n            if (action.payload.orderId) {\r\n                return orders.map(order => {\r\n                    if (order.id === action.payload.orderId) {\r\n                        return reducerOrder(order, action);\r\n                    } else {\r\n                        return order;\r\n                    }\r\n                });\r\n            } else {\r\n                return orders;\r\n            }\r\n        case UPDATE_ORDER_ITEM:\r\n            if (action.payload.orderId) {\r\n                return orders.map(order => {\r\n                    if (order.id === action.payload.orderId) {\r\n                        return reducerOrder(order, action);\r\n                    } else {\r\n                        return order;\r\n                    }\r\n                });\r\n            } else {\r\n                return orders;\r\n            }\r\n        case ADD_ORDER:\r\n            return [\r\n                ...orders,\r\n                {\r\n                    id: shortid.generate()\r\n                }\r\n            ];\r\n        case UPDATE_ORDER:\r\n            return orders.map(item => reducerOrder(item, action));\r\n        default:\r\n            return orders;\r\n    }\r\n}\r\n\r\nfunction reducerPerson(person, action) {\r\n    switch (action.type) {\r\n        case UPDATE_PERSON:\r\n            return {...action.payload};\r\n        default:\r\n            return person;\r\n    }\r\n}\r\n\r\nfunction reducerContractor(contractor, action) {\r\n    switch (action.type) {\r\n        case UPDATE_PERSON:\r\n            return {\r\n                ...contractor,\r\n                person: reducerPerson(contractor.person, action),\r\n            };\r\n        case UPDATE_CONTRACTOR:\r\n            return {\r\n                ...contractor,\r\n                ...action.payload\r\n            }\r\n        case INIT_CONTRACTOR:\r\n            return action.payload;\r\n        default:\r\n            return {\r\n                ...contractor,\r\n                orders: reducerOrders(contractor.orders, action)\r\n            };\r\n    }\r\n}\r\n\r\nexport {\r\n    reducerContractor\r\n}","import React from \"react\";\r\nimport {FormItem, Label} from \"../../ui\";\r\n\r\nconst Person = React.memo(function Person(props) {\r\n    console.log(\"person-------222\", props);\r\n    return (\r\n        <div>\r\n            <FormItem>\r\n                <Label>姓名:</Label>\r\n                <input\r\n                    style={{width:\"300px\"}}\r\n                    value={props.name}\r\n                    onChange={e => {\r\n                        props.onPersonChange({...props, name: e.target.value})\r\n                    }}\r\n                />\r\n            </FormItem>\r\n            <FormItem>\r\n                <Label>身份证:</Label>\r\n                <input\r\n                    style={{width:\"300px\"}}\r\n                    value={props.idno}\r\n                    onChange={e => {\r\n                        props.onPersonChange({...props, idno: e.target.value})\r\n                    }}\r\n                />\r\n            </FormItem>\r\n            <FormItem>\r\n                <Label>住址:</Label>\r\n                <input\r\n                    style={{width:\"300px\"}}\r\n                    value={props.address}\r\n                    onChange={e => {\r\n                        props.onPersonChange({...props, address: e.target.value})\r\n                    }}\r\n                />\r\n            </FormItem>\r\n        </div>\r\n    );\r\n});\r\nexport {\r\n    Person\r\n}","import React, {useCallback, useEffect, useReducer} from \"react\";\r\nimport * as R from \"ramda\";\r\nimport shortid from \"shortid\";\r\nimport Big from \"big.js\";\r\nimport _ from \"lodash\";\r\nimport {Button, FormItem, Label, Panel, PanelBody, PanelHeader} from \"../../ui\"\r\nimport {useFetchData} from \"../../useHooks\";\r\nimport {config} from \"../../config\";\r\nimport {Orders} from \"./Orders\";\r\nimport {DispatchContext} from \"./DispatchContext\"\r\nimport {reducerContractor} from \"../../reducer/reducerContractor\";\r\nimport {isNumber} from \"../../utils\";\r\nimport {INIT_CONTRACTOR, INIT_ORDER, UPDATE_CONTRACTOR, UPDATE_PERSON} from \"../../actions\";\r\nimport {Person} from \"./Person\";\r\n\r\n\r\nconst getCommoditys = config.baseUrl + \"/contractor/commoditys\";\r\n\r\n\r\n\r\nvar byCol1 = R.groupBy(function (record) {\r\n    return record.category;\r\n});\r\n\r\n\r\nfunction convertData(data) {\r\n    var renameCol = data.map(item => {\r\n        return {\r\n            ...item, name: item.name || \"\",\r\n            price: (isNumber(item.price) ? new Big(item.price).toFixed(2) : 0),\r\n            count: 0, checked: false\r\n        };\r\n    });\r\n    var grouped = byCol1(renameCol);\r\n    var convertedData = Object.keys(grouped).map(key => ({\r\n        id: shortid.generate(),\r\n        title: key,\r\n        items: grouped[key]\r\n    }));\r\n    console.log(convertedData);\r\n    return convertedData;\r\n}\r\n\r\nfunction getValue(){\r\n    console.log(\"getValue.................\");\r\n    var contractorStorage =  window.localStorage.getItem(\"contractor\");\r\n    try{\r\n        var contractorJson=contractorStorage?JSON.parse(contractorStorage):null;\r\n        return contractorJson;\r\n    }catch (e) {\r\n        window.localStorage.removeItem(\"contractor\");\r\n    }\r\n}\r\n\r\nfunction Contractor() {\r\n    console.log(\"Contractor\");\r\n    const [contractor, dispatch] = useReducer(reducerContractor, getValue());\r\n    useEffect(\r\n        e => {\r\n            console.log(\"fetch...............\",contractor);\r\n            if(!contractor){\r\n                fetch(getCommoditys).then(function (res) {\r\n                    console.log(\"fetch...............\",res);\r\n                    if(res.ok){\r\n                        res.json().then(function (json) {\r\n                            dispatch({\r\n                                type:INIT_CONTRACTOR,\r\n                                payload:{\r\n                                    person: {\r\n                                        name: \"\",\r\n                                        idno: \"\",\r\n                                        address: \"回风街道办事处大溪口村   组\"\r\n                                    },\r\n                                    orders: convertData(json)\r\n                                }\r\n                            });\r\n                        })\r\n                    }\r\n                });\r\n            }\r\n\r\n        },\r\n        []\r\n    );\r\n\r\n\r\n    useEffect(\r\n        e => {\r\n            var c = JSON.stringify(contractor);\r\n            window.localStorage.setItem(\"contractor\", c);\r\n        },\r\n        [contractor]\r\n    );\r\n\r\n    const memoizedPersonCallback = useCallback(_.throttle(person => {\r\n        console.log(\"memoizedPersonCallback\");\r\n        dispatch({type: UPDATE_PERSON, payload: person});\r\n    }, 0), []);//如果加了contractor.person就会造成person改变重新执行执行了里面的throttle函数\r\n\r\n    function clearContractor() {\r\n        window.localStorage.removeItem(\"contractor\");\r\n        alert(\"清理成功\");\r\n        window.history.pushState(\"/contractor/add\",null,\"/contractor/add\");\r\n    }\r\n    return (\r\n        <div>\r\n\r\n            <DispatchContext.Provider value={dispatch}>\r\n\r\n                <Panel>\r\n                    <Button primary onClick={clearContractor}>\r\n                        清除\r\n                    </Button>\r\n                </Panel>\r\n\r\n                {\r\n                    contractor?<div>\r\n                        <Panel>\r\n                            <PanelHeader>合同基本信息</PanelHeader>\r\n                            <PanelBody>\r\n                                <FormItem>\r\n                                    <Label>合同名称:</Label>\r\n                                    <input\r\n                                        value={contractor.name}\r\n                                        onChange={e => {\r\n                                            dispatch({\r\n                                                type: UPDATE_CONTRACTOR, payload: {\r\n                                                    name: e.target.value\r\n                                                }\r\n                                            })\r\n                                        }}\r\n                                    />\r\n                                </FormItem>\r\n                                <FormItem>\r\n                                    <Label>协议编号:</Label>\r\n                                    <input\r\n                                        value={contractor.agreementId}\r\n                                        onChange={e => {\r\n                                            dispatch({\r\n                                                type: UPDATE_CONTRACTOR, payload: {\r\n                                                    agreementId: e.target.value\r\n                                                }\r\n                                            })\r\n                                        }}\r\n                                    />\r\n                                </FormItem>\r\n                            </PanelBody>\r\n                        </Panel>\r\n\r\n                        <Panel>\r\n                            <PanelHeader>住户信息</PanelHeader>\r\n                            <PanelBody>\r\n                                <Person\r\n                                    {...contractor.person}\r\n                                    onPersonChange={memoizedPersonCallback}\r\n                                />\r\n                            </PanelBody>\r\n                        </Panel>\r\n                        <div>\r\n                            {contractor.orders ? <Orders orders={contractor.orders}/> : null}\r\n                        </div>\r\n\r\n                    </div>:null\r\n                }\r\n\r\n\r\n            </DispatchContext.Provider>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport {\r\n    Contractor\r\n}","import React, {useCallback, useContext, useEffect, useReducer, useState} from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport {useFetchData,useFormInput} from \"../../useHooks\";\r\nimport {config} from \"../../config\";\r\nimport {Link} from \"../../router\";\r\nimport {FormItem, Label, Panel, Table, TableBody, TableHeader, TableRow} from \"../../ui\";\r\nimport {contains} from \"../../utils\";\r\nimport {isEmpty} from \"lodash\";\r\nconst commonContractorServce =config.baseUrl+ \"/contractor\";\r\n\r\nfunction ContractorList() {\r\n    const data =useFetchData(commonContractorServce+\"/_search\",{\r\n        method: \"POST\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body:JSON.stringify({})\r\n    });\r\n    const filter=useFormInput(null);\r\n    console.log(\"ContractorList\");\r\n    return <div>\r\n        <Panel>\r\n            <FormItem>\r\n                <Label>关键词:</Label>\r\n                <input {...filter} style={{width:\"300px\"}} />\r\n            </FormItem>\r\n        </Panel>\r\n        <Panel>\r\n            <table>\r\n                <thead>\r\n                <tr>\r\n                    <th>姓名</th>\r\n                    <th>身份证</th>\r\n                    <th>协议号</th>\r\n                    <th>创建时间</th>\r\n                    <th>操作</th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                {data?data.filter(one=> isEmpty(filter.value)?true:contains((one.personName||\"\")+(one.personIdno||\"\"),filter.value) ).map((item,index)=>(\r\n                    <tr key={index}>\r\n                        <td>{item.personName}</td>\r\n                        <td>{item.personIdno}</td>\r\n                        <td>{item.agreementId}</td>\r\n                        <td>{item.createDate}</td>\r\n                        <td>\r\n                            <Link style={{width:\"200px;\"}} to={\"/contractor/edit/\"+item.id} key={item.id}>修改</Link>\r\n                        </td>\r\n                    </tr>\r\n                )):null}\r\n                </tbody>\r\n            </table>\r\n        </Panel>\r\n    </div>\r\n}\r\n\r\nexport {\r\n    ContractorList\r\n}","import React, {useCallback, useEffect, useReducer} from \"react\";\r\nimport * as R from \"ramda\";\r\nimport shortid from \"shortid\";\r\nimport Big from \"big.js\";\r\nimport _ from \"lodash\";\r\nimport {FormItem, Label, Panel, PanelBody, PanelHeader} from \"../../ui\"\r\nimport {useFetchData} from \"../../useHooks\";\r\nimport {config} from \"../../config\";\r\nimport {Orders} from \"./Orders\";\r\nimport {DispatchContext} from \"./DispatchContext\"\r\nimport {reducerContractor} from \"../../reducer/reducerContractor\";\r\nimport {isNumber} from \"../../utils\";\r\nimport {INIT_CONTRACTOR, INIT_ORDER, UPDATE_CONTRACTOR, UPDATE_PERSON} from \"../../actions\";\r\nimport {Person} from \"./Person\";\r\n\r\n\r\nvar rootState = {\r\n    person: {\r\n        name:\"\",\r\n        idno:\"\",\r\n        address:\"回风街道办事处大溪口村   组\"\r\n    },\r\n    orders: []\r\n};\r\n\r\n\r\nfunction ContractorEdit(props) {\r\n    console.log(\"ContractorEdit\",props.history.params.id);\r\n    const id=props.history.params.id;\r\n\r\n    window.localStorage.removeItem(\"contractor\");\r\n\r\n    const [contractor, dispatch] = useReducer(reducerContractor, rootState);\r\n    const initContractor = useFetchData(config.baseUrl+\"/contractor/\"+id, {\r\n                method: \"GET\",\r\n                headers: {\r\n                    Accept: \"application/json\"\r\n                }\r\n            }\r\n     );\r\n\r\n    useEffect(\r\n        e => {\r\n           if(initContractor){\r\n               console.log(\"initContractor\",initContractor);\r\n               dispatch({\r\n                   type:INIT_CONTRACTOR,\r\n                   payload:initContractor\r\n               })\r\n           }\r\n        },\r\n        [initContractor]\r\n    );\r\n\r\n    useEffect(\r\n        e => {\r\n            console.log(\"useEffect.contractor\",contractor);\r\n            var c=JSON.stringify(contractor);\r\n            window.localStorage.setItem(\"contractor\",c);\r\n        },\r\n        [contractor]\r\n    );\r\n\r\n    const memoizedPersonCallback = useCallback(_.throttle(person => {\r\n        console.log(\"memoizedPersonCallback\");\r\n        dispatch({type: UPDATE_PERSON, payload: person});\r\n    },0), []);//如果加了contractor.person就会造成person改变重新执行执行了里面的throttle函数\r\n\r\n    return (\r\n        <div>\r\n            <DispatchContext.Provider value={dispatch}>\r\n\r\n                <Panel>\r\n                    <PanelHeader>合同基本信息</PanelHeader>\r\n                    <PanelBody>\r\n                        <FormItem>\r\n                            <Label>合同名称:</Label>\r\n                            <input\r\n                                value={contractor.name}\r\n                                onChange={e=>{\r\n                                    dispatch({type: UPDATE_CONTRACTOR, payload:{\r\n                                            name:e.target.value\r\n                                        }})\r\n                                }}\r\n                            />\r\n                        </FormItem>\r\n                        <FormItem>\r\n                            <Label>协议编号:</Label>\r\n                            <input\r\n                                value={contractor.agreementId}\r\n                                onChange={e=>{\r\n                                    dispatch({type: UPDATE_CONTRACTOR, payload:{\r\n                                            agreementId:e.target.value\r\n                                        }})\r\n                                }}\r\n                            />\r\n                        </FormItem>\r\n                    </PanelBody>\r\n                </Panel>\r\n\r\n                <Panel>\r\n                    <PanelHeader>住户信息</PanelHeader>\r\n                    <PanelBody>\r\n                        <Person\r\n                            {...contractor.person}\r\n                            onPersonChange={memoizedPersonCallback}\r\n                        />\r\n                    </PanelBody>\r\n                </Panel>\r\n                <div>\r\n                    {contractor.orders ? <Orders orders={contractor.orders} /> : null}\r\n                </div>\r\n\r\n\r\n            </DispatchContext.Provider>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport {\r\n    ContractorEdit\r\n}","import styled, {css} from \"styled-components\";\r\n\r\n\r\nconst Layout = styled.div`\r\n    display:flex;\r\n`;\r\n\r\nconst LeftSideBar = styled.div`\r\n    display:block;\r\n    position:fixed;\r\n    width:130px;\r\n`;\r\n\r\nconst Content = styled.div`\r\n    margin-left:130px;\r\n    display:block;\r\n    flex:1;\r\n`;\r\n\r\nexport {\r\n    Layout,\r\n    LeftSideBar,\r\n    Content\r\n}\r\n\r\n\r\n","import React from \"react\";\r\nimport {Link, Route, Router} from \"../router\";\r\nimport {ContractorList} from \"./constractor/ContractorList\";\r\nimport {Contractor} from \"./constractor/Contractor\";\r\nimport { Container } from 'react-awesome-styled-grid'\r\nimport {Menu,MenuItem} from \"../ui\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faList,faPlus } from '@fortawesome/free-solid-svg-icons'\r\nimport {ContractorEdit} from \"./constractor/ContractorEdit\";\r\nimport  {\r\n    Layout,\r\n    LeftSideBar,\r\n    Content\r\n} from \"./Layout\";\r\n\r\n// import {ContractorEdit} from \"./constractor/ContractorEdit\";\r\n\r\n\r\n/**\r\n * https://github.com/styled-components/awesome-styled-components\r\n * https://github.com/santosfrancisco/react-awesome-styled-grid\r\n * @returns {*}\r\n * @constructor\r\n */\r\nfunction Home() {\r\n    return (\r\n            <Layout>\r\n                <LeftSideBar>\r\n                    <Menu>\r\n                        <MenuItem>\r\n                             <FontAwesomeIcon icon={faList} />\r\n                             <Link to=\"/contractor\" >住户列表</Link>\r\n                        </MenuItem>\r\n                        <MenuItem>\r\n                            <FontAwesomeIcon icon={faPlus} />\r\n                            <Link to=\"/contractor/add\" >添加住户</Link>\r\n                        </MenuItem>\r\n                    </Menu>\r\n                </LeftSideBar>\r\n                <Content>\r\n                    <Route exact path=\"/contractor\" component={ContractorList} />\r\n                    <Route exact path=\"/contractor/add\" component={Contractor} />\r\n                    <Route exact path=\"/contractor/edit/:id\" component={ContractorEdit} />\r\n                </Content>\r\n            </Layout>\r\n    )\r\n}\r\nexport {\r\n    Home\r\n}","import React, {useCallback, useContext, useEffect, useReducer, useState} from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./styles.css\";\r\nimport {Route,Router,Link} from \"./router\";\r\nimport {Contractor} from \"./pages/constractor/Contractor\";\r\nimport {ContractorList} from \"./pages/constractor/ContractorList\";\r\nimport {Home} from \"./pages/Home\";\r\n\r\n\r\n//const baseUrl = \"http://192.168.1.105:8080/gen\";\r\n//const baseUrl = \"http://127.0.0.1:8080/gen\";\r\nconst baseUrl = \"http://47.106.199.127:8080/gen\";\r\n\r\n\r\nclass App extends React.Component {\r\n    render() {\r\n        return (\r\n            <Router>\r\n                <Route path=\"/\" component={Home} />\r\n            </Router>\r\n        );\r\n    }\r\n}\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nReactDOM.render(<App/>, rootElement);\r\n"],"sourceRoot":""}